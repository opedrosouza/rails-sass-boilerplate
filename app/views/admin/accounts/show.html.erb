<%= page_title("Account - #{@account.id}") %>
<%= page_actions do %>
  <%= link_to "Edit", edit_admin_account_path(@account), class: "btn btn-primary" %>
  <%- if @account.discarded? %>
    <%= button_to "Restore", restore_admin_account_path(@account), method: :patch, data: { turbo_method: :patch, turbo_confirm: "Are you sure?"}, class: "btn btn-secondary ml-2" %>
  <%- else %>
    <%= button_to "Archive", admin_account_path(@account), method: :delete, data: { turbo_method: :delete, turbo_confirm: "Are you sure?"}, class: "btn btn-danger ml-2" %>
  <% end %>
<% end %>

<%= turbo_frame_tag "accounts_data_table" do %>
  <div class="overflow-x-auto">
    <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
      <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
        <tr>
          <th scope="col" class="px-4 py-3">ID</th>
          <th scope="col" class="px-4 py-3">Email</th>
          <th scope="col" class="px-4 py-3">Role</th>
          <th scope="col" class="px-4 py-3 whitespace-nowrap">Onwer?</th>
          <th scope="col" class="px-4 py-3">Created At</th>
          <th scope="col" class="px-4 py-3">Updated At</th>
          <th scope="col" class="px-4 py-3 whitespace-nowrap">Deleted At</th>
          <th scope="col" class="px-4 py-3">
            <span class="sr-only">Actions</span>
          </th>
        </tr>
      </thead>
      <tbody>
        <%- @account.account_users.each do |account_user| %>
          <%= render "account_user", account_user: account_user %>
        <% end %>
      </tbody>
    </table>
  </div>
<% end %>
